generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Agendamento {
  id              String   @id @default(cuid())
  cliente         String
  
  // NOVO CAMPO ADICIONADO (Opcional para não quebrar dados antigos)
  telefone        String?  
  
  servico         String
  data            String
  horario         String
  status          String   @default("PENDENTE")
  valor           Float
  paymentId       String?
  
  metodoPagamento String?  
  
  createdAt       DateTime @default(now())
}

model PushSubscription {
  id        String   @id @default(cuid())
  endpoint  String   @unique
  p256dh    String
  auth      String
  createdAt DateTime @default(now())
}

model Configuracao {
  id                  String   @id @default("settings")
  porcentagemSinal    Float    @default(50.0)
  precoServico        Float    @default(1.0)
  horarioAbertura     String   @default("08:00")
  horarioFechamento   String   @default("20:00")
  
  nomeEstabelecimento String   @default("Minha Barbearia") 
  telefoneWhatsApp    String?
  corPrincipal        String   @default("#acb9b5")
  logoUrl             String?  // Link da logo da Loja
  backgroundImageUrl  String?  // Backgroud 
  updatedAt           DateTime @updatedAt
}

// Tabela de Serviços
model Service {
  id          String   @id @default(cuid())
  title       String   // Ex: "Corte Social"
  description String?  // Ex: "Acompanha lavagem"
  price       Float    // Ex: 30.00
  duration    Int      // Ex: 30 (minutos)
  imageUrl    String?  // Link da foto do serviço
  active      Boolean  @default(true) 
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
}